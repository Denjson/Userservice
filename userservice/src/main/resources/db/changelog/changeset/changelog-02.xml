<?xml version="1.0" encoding="UTF-8"?>	
<databaseChangeLog
    xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
    xmlns:pro="http://www.liquibase.org/xml/ns/pro"
    xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
        http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-latest.xsd
        http://www.liquibase.org/xml/ns/dbchangelog-ext
        http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd
        http://www.liquibase.org/xml/ns/pro
        http://www.liquibase.org/xml/ns/pro/liquibase-pro-latest.xsd">

    <changeSet  id="1"  author="denrod">
        <createTable  tableName="payment_cards" schemaName="den_schema">  
           <column  name="id"  type="bigint"  autoIncrement="true">  
               <constraints  primaryKey="true"  nullable="false"/>
           </column>
           <column  name="user_id"  type="bigint"/>
           <column  name="number"  type="bigint"/>
           <column  name="holder"  type="varchar(15)"/>
           <column  name="expiration_date"  type="date"/>
           <column  name="active"  type="BOOLEAN"/>
        </createTable> 
    </changeSet>  

    <changeSet  id="2"  author="denrod">
    <addForeignKeyConstraint
            baseTableName="payment_cards"
            baseTableSchemaName="den_schema"
		    baseColumnNames="user_id"
            constraintName="fk_user_id"
            onDelete="CASCADE"
            onUpdate="CASCADE"
            referencedColumnNames="id"
            referencedTableName="users"
            referencedTableSchemaName="den_schema"/>
  </changeSet>

 
</databaseChangeLog>